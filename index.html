<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Convertidor de Enlaces</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f4f4f4;
    }
    h1 {
      color: #333;
    }
    input[type="text"] {
      width: 80%;
      padding: 10px;
      font-size: 16px;
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
      margin-left: 10px;
      cursor: pointer;
    }
    #output {
      margin-top: 20px;
      font-size: 18px;
      color: #0077cc;
    }
    #howToUse {
      background-color: #fff;
      padding: 15px;
      border-left: 5px solid #0077cc;
      margin-top: 40px;
    }
    code {
      background-color: #eee;
      padding: 2px 4px;
      border-radius: 4px;
    }
  </style>
</head>
<body>

  <h1>üîó Convertidor de Enlaces</h1>

  <input type="text" id="inputLink" placeholder="Pega aqu√≠ tu enlace original">
  <button onclick="convertLink()">Convertir</button>

  <div id="output"></div>

  <section id="howToUse">
    <h2>üõ† C√≥mo usar esta herramienta</h2>
    <ul>
      <li>Copie el enlace completo del Lead o Oportunidad en Salesforce.</li>
      <li>Ponga en el campo arriba el link completo.</li>
      <li>Haz clic en el bot√≥n <strong>Convertir</strong>.</li>
      <li>Ver√°s el nuevo enlace generado en el formato correcto.</li>
      <li>Haz clic en <strong>Copiar</strong> para guardarlo en tu portapapeles.</li>
    </ul>
  </section>

  <script>
    function convertLink() {
      const input = document.getElementById("inputLink").value;
      const leadMatch = input.match(/\/Lead\/([^\/]+)\//i);
      const oppMatch = input.match(/\/Opportunity\/([^\/]+)\//i);
      let newLink = "";

      if (leadMatch) {
        newLink = `https://www.connectedcustomer360.com/s/lead/${leadMatch[1]}/`;
      } else if (oppMatch) {
        newLink = `https://www.connectedcustomer360.com/s/opportunity/${oppMatch[1]}/`;
      } else {
        newLink = "‚ùå Formato de enlace no v√°lido.";
      }

      if (newLink.startsWith("https")) {
        document.getElementById("output").innerHTML = `
          ‚úÖ Enlace convertido:<br>
          <input type="text" value="${newLink}" id="convertedLink" readonly style="width:80%; font-size:16px;">
          <button onclick="copyLink()">Copiar</button>
        `;
      } else {
        document.getElementById("output").innerText = newLink;
      }
    }

    function copyLink() {
      const copyText = document.getElementById("convertedLink");
      copyText.select();
      copyText.setSelectionRange(0, 99999); // Para m√≥viles
      document.execCommand("copy");
      alert("¬°Enlace copiado al portapapeles!");
    }
  </script>
  <footer style="margin-top:50px; text-align:center; font-size:16px; color:#555;">
    Hecho para üöÄ por DGX LAC
  </footer>
</body>
</html>
